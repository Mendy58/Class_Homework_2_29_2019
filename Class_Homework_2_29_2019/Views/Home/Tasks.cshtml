@using Class_Homework_2_29_2019.Models
@model IEnumerable<Categories>
@{
	ViewBag.Title = "Tasks";
}

<div class="container" style="margin-top: 20px;">
	<div class="row">
		@if (Model != null)
		{<table class="table-bordered table-hover table-striped">
				<tr>
					<th>Category</th>
					<th>Title</th>
					<th>Due Date</th>
					<th>Mark as completed</th>
				</tr>


				@foreach (Categories c in Model)
				{
					foreach (ToDoItem t in c.ToDoItems)
					{
						<tr>
							<td>@c.Name</td>
							<td>@t.Title</td>
							<td>@t.DueDate</td>
							<td>
								<form method="post" action="/Home/Complete">
									<input type="hidden" name="id" value="@t.Id" />
									<input type="date" class="form-control" name="Date" />
									<button class="btn btn-success">Mark Complete</button>
								</form>
							</td>
						</tr>
					}
				}
			</table>
		}
		else
		{
			<h1>Congrats! All tasks have been completed</h1>
		}
	</div>
</div>
